# Test for missing template arg
! exec go-cookiecutter
stderr 'Error: accepts 1 arg\(s\), received 0'
stderr 'Usage:\n  go-cookiecutter \[TEMPLATE\] \[flags\]'
! stdout .

# Test for non existant directory
! exec go-cookiecutter i-dont-exist
stderr 'Error while preparing template: open i-dont-exist: no such file or directory'
! stdout .

# Happy path test
exec go-cookiecutter test-template
stdout 'Template path is template\n'
! stderr .

exec cat my-project.txt
stdout 'my-project\n'
! stderr .

-- test-template/schema.yaml --
name: My Template
type: object
schema:
  project_name:
    type: string
required:
  - project_name

-- test-template/template/{{ project_name }}.txt --
{{ project_name }}

